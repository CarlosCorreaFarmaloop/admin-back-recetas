service: ${CI_PROJECT_NAME}

provider:
  name: aws
  runtime: ${LAMBDA_RUNTIME}
  region: ${REGION}
  iam:
    role: ${LAMBDA_ROLE_ARN}
  tracing:
    lambda: true

functions:
  main:
    handler: handler.handler
    tracing: Active
    environment:
      ENVIRONMENT: dev
      mongo_connection: ${mongo_connection}
      database: ${database}
    vpc:
      securityGroupIds:
        - sg-0a29e27e811c526f0
      subnetIds:
        - subnet-0574ba6c90957ff0f
        - subnet-08a8c1e16d1a37ab5
        - subnet-0574ba6c90957ff0f
        - subnet-07a546697a11eecff
        - subnet-0797325953e798bd0
        - subnet-03e33a6ae0f1b689b

    tags:
      Proyecto: 'farmaloop-serverless'
      Uso: 'lambda template'
      Usuario: 'clm-devsecops'
      Zona: '${REGION}'
